{
    "name": "read_url_content",
    "description": "指定したURLのページコンテンツを読み込んで表示するPlaybook",
    "input_schema": [
        {
            "name": "input",
            "description": "読み込みたいURL"
        }
    ],
    "context_requirements": {
        "history_depth": "full",
        "inventory": false,
        "building_items": false,
        "system_prompt": true
    },
    "router_callable": true,
    "nodes": [
        {
            "id": "extract_url",
            "type": "llm",
            "action": "<system>入力からURLを抽出してください。複数ある場合は最初のものを選択。URLがない場合はnullを返してください。</system>",
            "next": "read",
            "response_schema": {
                "type": "object",
                "properties": {
                    "url": {
                        "type": "string",
                        "description": "抽出したURL"
                    },
                    "max_chars": {
                        "type": "integer",
                        "description": "取得する最大文字数（省略時8000）"
                    }
                },
                "required": [
                    "url"
                ]
            },
            "output_key": "url_args"
        },
        {
            "id": "read",
            "type": "tool",
            "action": "read_url_content",
            "args_input": {
                "url": "url_args.url",
                "max_chars": "url_args.max_chars"
            },
            "next": "record"
        },
        {
            "id": "record",
            "type": "memorize",
            "action": "<system>```{last}```\n\nこれらの情報はユーザーには見えていません。内容を要約または引用して伝えてください。</system>",
            "role": "user",
            "tags": [
                "tool",
                "read_url_content"
            ],
            "next": null
        }
    ],
    "start_node": "extract_url"
}